# dwupload
> Upload a storefront cartridge to a Demandware WebDAV server from command line.

## Installation

```shell
:; npm install -g dwupload
```

Instead of installing this as a global npm package, you can install it locally and access it as `./node_modules/.bin/dwupload`.

## Usage

```shell 
# uploading a carridge
:; dwupload --hostname example.demandware.net --username admin --password password --cartridge app_storefront_core  --code-version version1

# uploading file(s) using configuration in `dw.json`
:; dwupload --file path/to/app.js --file path/to/style.css

# watch for file changes and upload automatically
:; dwupload watch --cartridge app_storefront_controllers

# delete a file, with root option
:; dwupload delete --file rootDir/path/to/file --root rootDir

# 2-factor authentication
:; dwupload --hostname cert.example.demandware.net --username admin --password password --p12 admin.p12 --passphrase passphrase
:; dwupload --hostname cert.example.demandware.net --p12 admin.12 --passphrase passphrase --self-signed

# get version information
:; dwupload version
```
See `--help` for more information.

### Exclude patterns
Exclude patterns can be declared via the `-x` or `--exclude` flag. This work for both file and folder exclude patterns. For example:

```
*.swp
**/node_modules/**
```

Please note that the `**` after the folder name is important. Without it, child directories of `node_modules` would still be included.

## Config file
Instead of passing command line options every single time, you can store your config options in a `dw.json` file in the current working directory instead. For example:

```js
{
        "hostname": "example.demandware.net",
        "username": "user",
        "password": "password",
        "cartridge": ["cartridgeA", "cartridgeB"],
        "code-version": "version2",
        "p12": "path/to/file.p12",
        "passphrase": "passphrase"
}
```

Command line options will always **override** the options delcared in the config file.
